{"version":3,"sources":["webpack:///./js/router.js"],"names":["routers","path","component","title","innerHTML","meta","auth","startState","navbarNav","document","querySelector","updatedContent","router","find","item","history","state","location","pathname","pushState","window","onpopstate","event","addEventListener","e","target","tagName","preventDefault","query","getAttribute","updateHistory"],"mappings":"2JAAMA,EAAU,CACZ,CACIC,KAAK,eACLC,UA+DR,WACIC,EAAMC,UAAY,QA/DdC,KAAM,CAAEC,MAAM,IAElB,CACIL,KAAK,qBACLC,UA8DR,WACIC,EAAMC,UAAY,UA9DdC,KAAM,CAAEC,MAAM,IAElB,CACIL,KAAK,qBACLC,UA6DR,WACIC,EAAMC,UAAY,UA7DdC,KAAM,CAAEC,MAAM,IAElB,CACIL,KAAK,qBACLC,UA4DR,WACIC,EAAMC,UAAY,UA5DdC,KAAM,CAAEC,MAAM,KAKlBC,GAAa,EAEbC,EAAYC,SAASC,cAAc,eACnCP,EAAQM,SAASC,cAAc,UAgBnC,SAASC,IACL,IAAIC,EAASZ,EAAQa,MAAM,SAAAC,GAAI,OAAIA,EAAKb,OAASc,QAAQC,OAASF,EAAKb,OAASgB,SAASC,YACpFN,GAIAA,EAAOP,KAAKC,KAGRM,EAAOP,KAAKC,MAAgBC,IACjCP,EAAQ,GAAGE,YACXa,QAAQI,UAAUnB,EAAQ,GAAGC,KAAM,KAAMD,EAAQ,GAAGC,OAJpDW,EAAOV,YAMXK,GAAa,GA2BbJ,EAAMC,UAAY,YAxBtBgB,OAAOC,WAAa,SAASC,GACzBX,KAGJH,EAAUe,iBAAiB,SAlC3B,SAAqBC,GACQ,MAArBA,EAAEC,OAAOC,UACbF,EAAEG,iBAKN,SAAuBH,GACnB,IAAMI,EAAQJ,EAAEC,OAAOI,aAAa,QAChCjB,EAASZ,EAAQa,MAAM,SAAAC,GAAI,OAAIA,EAAKb,OAAS2B,KACjD,IAAKhB,EAAQ,OACRA,EAAOP,KAAKC,MAAeS,QAAQI,UAAUS,EAAO,KAAMA,GAR/DE,CAAcN,GACdb,QA+BJS,OAAOG,iBAAiB,OAAQZ,O","file":"main.0e43802db7a7a91a02c6.js","sourcesContent":["const routers = [\n    {\n        path:'/nav-history',\n        component: fun1,\n        meta: { auth: false}\n    },\n    {\n        path:'/nav-history/page1',\n        component: fun2,\n        meta: { auth: true}\n    },\n    {\n        path:'/nav-history/page2',\n        component: fun3,\n        meta: { auth: false}\n    },\n    {\n        path:'/nav-history/page3',\n        component: fun4,\n        meta: { auth: false}\n    }\n];\n\nlet auth = true;\nlet startState = true;\n\nlet navbarNav = document.querySelector('.navbar-nav');\nlet title = document.querySelector('.title');\n\nfunction updatePage (e) {\n    if (e.target.tagName !== \"A\") return\n    e.preventDefault();\n    updateHistory(e);\n    updatedContent();\n}\n\nfunction updateHistory(e) {\n    const query = e.target.getAttribute('href');\n    let router = routers.find( item => item.path === query);\n    if (!router) return\n    if (!router.meta.auth || !auth) history.pushState(query, null, query)\n}\n\nfunction updatedContent() {\n    let router = routers.find( item => item.path === history.state || item.path === location.pathname)\n    if (!router) {\n        fun5();\n        return\n    }\n    if (!router.meta.auth || !auth) {\n        router.component(); \n    }\n    else if (router.meta.auth && auth && startState) {\n        routers[0].component();\n        history.pushState(routers[0].path, null, routers[0].path) \n    } \n    startState = false;\n}\n\nwindow.onpopstate = function(event) {\n    updatedContent();\n};\n\nnavbarNav.addEventListener('click', updatePage);\nwindow.addEventListener('load', updatedContent());\n\nfunction fun1 () {\n    title.innerHTML = 'Home';\n}\n\nfunction fun2 () {\n    title.innerHTML = 'Page 1';\n}\n\nfunction fun3 () {\n    title.innerHTML = 'Page 2';\n}\n\nfunction fun4 () {\n    title.innerHTML = 'Page 3';\n}\n\nfunction fun5 () {\n    title.innerHTML = 'Not found';\n}\n\n\n"],"sourceRoot":""}